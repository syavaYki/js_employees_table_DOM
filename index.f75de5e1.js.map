{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nfunction sortRows(rows, sortIndex, accending) {\n  rows.sort((a, b) => {\n    const aClean = a.cells[sortIndex].textContent\n      ?.replace('$', '')\n      .replace(',', '');\n    const bClean = b.cells[sortIndex].textContent\n      .replace('$', '')\n      .replace(',', '');\n\n    if (isNaN(aClean)) {\n      if (accending) {\n        return a.cells[sortIndex].textContent?.localeCompare(\n          b.cells[sortIndex].textContent,\n        );\n      }\n\n      return b.cells[sortIndex].textContent?.localeCompare(\n        a.cells[sortIndex].textContent,\n      );\n    } else {\n      if (accending) {\n        return parseFloat(aClean) - parseFloat(bClean);\n      }\n\n      return parseFloat(bClean) - parseFloat(aClean);\n    }\n  });\n}\n\nfunction validator(data, formData = true) {\n  if (formData || (!formData && data.get('name'))) {\n    if (data.get('name').trim().length < 4) {\n      pushNotification('Error', 'Name must have 4 or more characters', 'error');\n\n      return false;\n    }\n  }\n\n  if (formData || (!formData && data.get('position'))) {\n    if (data.get('position').trim().length <= 0) {\n      pushNotification('Error', 'Please enter position', 'error');\n\n      return false;\n    }\n  }\n\n  if (formData || (!formData && data.get('office'))) {\n    if (!offices.includes(data.get('office'))) {\n      pushNotification(\n        'Error',\n        `Invalid office locatioin please select from following: ${offices.join(', ')}`,\n        'error',\n      );\n\n      return false;\n    }\n  }\n\n  if (formData || (!formData && data.get('age'))) {\n    if (\n      isNaN(data.get('age')) ||\n      +data.get('age') < 18 ||\n      +data.get('age') > 90\n    ) {\n      pushNotification(\n        'Error',\n        'Age should be older then 18 and yonger then 99',\n        'error',\n      );\n\n      return false;\n    }\n  }\n\n  if (formData || (!formData && +data.get('salary'))) {\n    if (isNaN(+data.get('salary')) || +data.get('salary') <= 0) {\n      pushNotification('Error', 'Please enter valid salary', 'error');\n\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction pushNotification(title, description, type = '') {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n  message.dataset.qa = 'notification';\n  message.style.top = `${500}px`;\n  message.style.right = `${10}px`;\n\n  message.innerHTML = `\n      <h2 class=\"title\">${title}</h2>\n      <p>${description}</p>\n    `;\n  document.body.append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n}\n\nconst tHead = document.querySelector('thead');\nconst tBody = document.querySelector('tbody');\nconst headerCells = tHead?.rows[0].cells;\nconst className = 'acdSorted';\nconst sortMapIndx = {};\nconst offices = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n  'London',\n];\nconst formHTML = `<form\n      id=\"form-new-empl\"\n      class=\"new-employee-form\"\n    >\n      <label>Name:\n        <input\n          name=\"name\"\n          type=\"text\"\n          data-qa=\"name\"\n        >\n      </label>\n\n      <label>Position:\n        <input\n          name=\"position\"\n          type=\"text\"\n          data-qa=\"position\"\n        >\n      </label>\n\n      <label>Office:\n        <select\n          name=\"office\"\n          type=\"text\"\n          data-qa=\"office\"\n        >\n          <option value=\"${offices[0]}\">${offices[0]}</option>\n          <option value=\"${offices[1]}\">${offices[1]}</option>\n          <option value=\"${offices[2]}\">${offices[2]}</option>\n          <option value=\"${offices[3]}\">${offices[3]}</option>\n          <option value=\"${offices[4]}\">${offices[4]}</option>\n          <option value=\"${offices[5]}\">${offices[5]}</option>\n          <option value=\"${offices[6]}\">${offices[6]}</option>\n        </select>\n      </label>\n\n      <label>Age:\n        <input\n          name=\"age\"\n          type=\"number\"\n          data-qa=\"age\"\n        >\n      </label>\n\n      <label>Salary:\n        <input\n          name=\"salary\"\n          type=\"number\"\n          data-qa=\"salary\"\n        >\n      </label>\n\n      <button type=\"submit\">Save to table</button>\n    </form>`;\n\ndocument.querySelector('table').insertAdjacentHTML('afterend', formHTML);\n\nconst formElem = document.body.querySelector('#form-new-empl');\n\nfor (let i = 0; i < tHead?.rows[0].cells.length; i++) {\n  sortMapIndx[headerCells[i].textContent] = i;\n}\n\ntHead?.addEventListener('click', (e) => {\n  const acdStat = e.target.classList.contains(className);\n  const tableRows = [...document.querySelector('tbody').rows];\n\n  sortRows(tableRows, sortMapIndx[e.target.textContent], !acdStat);\n\n  for (let i = 0; i < headerCells.length; i++) {\n    const child = headerCells[i];\n\n    child.classList.remove(className);\n  }\n\n  if (!acdStat) {\n    e.target.classList.add(className);\n  }\n\n  for (let row = 0; row < tableRows.length; row++) {\n    document.querySelector('tbody')?.append(tableRows[row]);\n  }\n});\n\ntBody?.addEventListener('click', (e) => {\n  for (let i = 0; i < document.querySelector('tbody').rows.length; i++) {\n    document.querySelector('tbody').rows[i].classList.remove('active');\n  }\n  e.target.parentElement.classList.add('active');\n});\n\nformElem?.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(formElem);\n\n  if (!validator(data)) {\n    return;\n  }\n\n  const newTr = document.createElement('tr');\n  for (const pair of data.entries()) {\n    const newTd = document.createElement('td');\n\n    if (pair[0] === 'salary') {\n      newTd.textContent = parseInt(pair[1]).toLocaleString('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n      });\n    } else {\n      newTd.textContent = pair[1];\n    }\n\n    newTr.append(newTd);\n    tBody?.append(newTr);\n    formElem.reset();\n  }\n\n  pushNotification('Success', 'Successfully added entry', 'success');\n});\n\ntBody?.addEventListener('dblclick', (e) => {\n  function recInput(ev) {\n    const actvInputCont = ev.target.value;\n    const keyMap =\n      tHead.rows[0].cells[\n        [...activeCell.parentElement.cells].indexOf(activeCell)\n      ].textContent?.toLocaleLowerCase();\n\n    const tData = new FormData();\n\n    tData.append(keyMap, actvInputCont);\n\n    if (!actvInputCont) {\n      activeCell.textContent = curentTxt;\n      newInput.remove();\n\n      return;\n    }\n\n    if (validator(tData, false)) {\n      if (keyMap === 'salary') {\n        activeCell.textContent = parseInt(actvInputCont).toLocaleString(\n          'en-US',\n          {\n            style: 'currency',\n            currency: 'USD',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0,\n          },\n        );\n      } else {\n        activeCell.textContent = actvInputCont;\n      }\n\n      newInput.remove();\n    } else {\n      newInput.focus();\n    }\n  }\n\n  const activeCell = e.target;\n  const curentTxt = activeCell.textContent;\n  const newInput = document.createElement('input');\n\n  newInput.classList.add('cell-input');\n  activeCell.textContent = '';\n  activeCell.append(newInput);\n  newInput.focus();\n\n  newInput.addEventListener('focusout', recInput);\n\n  newInput.addEventListener('keypress', (evnt) => {\n    if (evnt.key === 'Enter') {\n      recInput(evnt);\n    }\n  });\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}